# Django 프로젝트 생성 및 시작하기

## 프로젝트 생성

### 1. 가상 환경 설정 및 활성화

- Q) 장고에서 가상환경을 사용하고 버전을 맞추는 이유가 무엇일까?

    A) 가상환경은 Python의 독립된 실행환경을 말한다. 이를 통해 다른 프로젝트와 격리하여 각 프로젝트에 필요한 패키지와 의존성을 별도로 관리할 수 있다.

    - 의존성 관리: 프로젝트 별로 다른 버전의 패키지를 사용할 수 있으므로, 한 시스템에서 다양한 프로젝트를 운영할 때 서로 영향을 주지 않는다
    - 충돌 방지: 하나의 시스템에 여러 버전의 라이브러리가 설치되어 있을 경우, 예상치 못한 충돌이 발생할 수 있는데, 이를 방지할 수 있다
    - 프로젝트 이식성: 가상환경을 사용하면 필수 패키지를 `requirements.txt` 파일에 명시하여 다른 환경으로 쉽게 옮길 수 있다
- Q) 버전을 맞추는 것이 왜 중요할까?

    A) 버전 맞춤의 중요성

    - 기능 호한성: 각 버전의 장고는 특정 버전의 Python과 호환된다. 이 버전을 맞추지 않으면 프로젝트에서 사용하는 기능이 제대로 작동하지 않을 수 있기에 반드시 맞춰주어야 한다
    - 보안 문제: 구버전 소프트웨어는 보안 취약점을 포함할 수 있으므로, 보안을 강화하기 위해 최신 버전으로 유지하는 것이 중요하다
    - 최신 기능 이용: 새 버전의 장고는 새로운 기능과 개선된 성능을 제공한다. 이러한 최신 기능들을 활용하기 위해서는 호환되는 Python 버전이 필요하다

### 2. Django 설치

→ Django에서 프로젝트 할 땐 `pip3`가 아니라 `pip`를 사용할것!
     (후자가 실행 여부를 판단하기 쉬움)

### 3. Django-admin 이란?

```bash
django-admin startproject {project-name}
```

- `django-admin` → `django-admin <command> [options]`

    : Django 프레임 워크에 포함된 커맨드라인 유틸리티로, Django 프로젝트를 생성하고 관리하는 데 필수적인 명령어들을 제공한다. 이 명령어를 사용하면 프로젝트의 초기 설정, 애플리케이션 추가, 데이터베이스 마이그레이션과 같은 작업을 수 행할 수 있다.



## 프로젝트 가상환경 중단 및 재실행

### 가상환경 끄기

```bash
# 가상 환경 터미널에서 실행중인 프로젝트를 ctrl+C로 끈 뒤, 다음 명령어로 환경 중지
deactivate
```

### 가상환경 재실행

```bash
# 이전까지 작업했던 프로젝트의 가상환경 다시 재실행
source {virtual-folder-name}/bin/activate
```

---

# Django의 기본 프로젝트 구조

```bash
myproject-Django/
│
├── myproject/          # 프로젝트 설정 디렉토리
│   ├── __init__.py     # Python 패키지 초기화 파일
│   ├── settings.py     # 프로젝트 설정 파일
│   ├── urls.py         # URL 선언을 위한 파일
│   ├── wsgi.py         # WSGI 애플리케이션을 위한 파일
│   └── asgi.py         # ASGI 애플리케이션을 위한 파일
│
├── app/                # Django 애플리케이션 디렉토리 (예: 'main', 'blog' 등)
│   ├── migrations/     # 마이그레이션 파일 디렉토리
│   │   └── __init__.py
│   ├── __init__.py
│   ├── admin.py        # 관리자 사이트 구성
│   ├── apps.py         # 앱 설정
│   ├── models.py       # 데이터베이스 모델
│   ├── tests.py        # 테스트 코드
│   ├── views.py        # 뷰 함수 또는 클래스
│   └── templates/      # HTML 템플릿 파일
│       └── app/        # 앱 이름별 서브디렉토리
│           └── example.html
│
├── manage.py           # Django 프로젝트 관리 스크립트
│
├── static/             # 정적 파일 (CSS, JavaScript, 이미지 등)
│
├── media/              # 사용자가 업로드하는 파일 저장
│
└── venv/               # Python 가상 환경 폴더
```

- `myproject-Django/`, 프로젝트 루트 디렉토리

    : 프로젝트 관련 파일과 관리 스크립트가 포함된 최상위 폴더

- `myproject/myproject/`, 프로젝트 설정 디렉토리

    : 설정 파일, URL 라우터, WSGI/ASGI 설정을 포함한 디렉토리

- `manage.py`

    : Django 명령어를 실행할 수 있게 해주는 스크립트 파일로, 데이터베이스 마이그레이션 실행, 테스트 실행, 개발 서버 시작 등의 명령을 처리

    실제로 해당 파일은 `django-admin`을 프로젝트 특정 설정과 함께 래핑한 스크립트로, 이를 사용하면 프로젝트 설정을 자동으로 인식하므로, 동일한 명령에 대해 django-admin과 비교했을 때 추가적인 설정 인자를 지정할 필요가 없다.

    따라서 대부분의 프로젝트 관리 작업은 `manage.py`를 통해 실행된다.

- `myproject/app/` (ex. main, myapp, …)

    : 실제 애플리케이션 로직이 들어있는 디렉토리로, 여러 앱이 존재할 수 있음

- `myproject/app/migrations/`

    : 모델 변경에 따른 데이터베이스 마이그레이션 파일을 저장

- `templates/`

    : HTML 템플릿 파일을 저장. 각 앱에 특화된 템플릿을 관리하기 위해 앱 이름으로 된 서브 디렉토리를 사용할 수 있다.

- `venv/` (ex. 가상환경 디렉토리: virtual-folder-name)

    : python의 가상 환경을 포함하며, 프로젝트의 루트 디렉토리에 위치

    프로젝트에 사용하는 python 인터프리터와 모든 종속 패키지가 포함된다. 가상 환경을 사용함으로써 프로젝트의 의존성을 격리시키고, 다른 프로젝트나 시스템의 python 설정과 충돌을 방지할 수 있다.


### Django 프로젝트 구조의 중요성

- 모듈성

    : 각 Django의 앱은 특정 기능을 캡슐화하여 모듈로 관리된다. 이러한 모듈식 접근 방식은 유지관리와 확장성을 개선하며, 큰 프로젝트에서도 각 기능을 분리하여 개발할 수 있게 한다.

- 재사용성

    : 앱을 잘 설계하면, 다른 프로젝트에서도 동일한 앱을 재사용할 수 있다.

    → 예시로, 사용자 인증을 처리하는 앱을 다른 프로젝트에 그대로 적용할 수 있다.

- 개발과 테스트의 용이성

    : 개발 서버와 마이그레이션 도구를 통해 로컬 개발 환경에서 신속하게 변경 사항을 적용하고 테스트할 수 있다.

- 베포의 용이성

    : WSGI/ASGI 파일 설정을 통해 다양한 서버 환경으로의 배포가 용이해지며, 설정 파일만 조정하면 동일한 애플리케이션을 다른 서버에도 쉽게 배포할 수 있다.